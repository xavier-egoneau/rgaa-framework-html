{% extends "layouts/base.twig" %}

{% block title %}Documentation des composants - RGAA Framework{% endblock %}

{% block header_title %}Documentation RGAA Framework{% endblock %}
{% block header_content %}
<p>Tous les composants accessibles et conformes RGAA 4.1.2</p>
{% endblock %}

{% block content %}

<!-- Navigation de la documentation -->
<nav class="rf-nav rf-nav-horizontal" role="navigation" aria-label="Navigation de la documentation">
    <div class="rf-container">
        <ul>
            <li><a href="#grille" class="rf-nav-link">Syst√®me de grille</a></li>
            <li><a href="#boutons" class="rf-nav-link">Boutons</a></li>
            <li><a href="#formulaires" class="rf-nav-link">Formulaires</a></li>
            <li><a href="#modales" class="rf-nav-link">Modales</a></li>
            <li><a href="#navigation" class="rf-nav-link">Navigation</a></li>
            <li><a href="#dropdowns" class="rf-nav-link">Dropdowns</a></li>
            <li><a href="#alertes" class="rf-nav-link">Alertes</a></li>
            <li><a href="#accordeons" class="rf-nav-link">Accord√©ons</a></li>
            <li><a href="#onglets" class="rf-nav-link">Onglets</a></li>
        </ul>
    </div>
</nav>

<!-- Inclusion des composants -->
{% include "components/grille.twig" %}
{% include "components/boutons.twig" %}
{% include "components/formulaires.twig" %}
{% include "components/modales.twig" %}
{% include "components/navigation.twig" %}
{% include "components/dropdowns.twig" %}
{% include "components/alertes.twig" %}
{% include "components/accordeons.twig" %}
{% include "components/onglets.twig" %}

<!-- Exemples avanc√©s -->
<section id="exemples-avances" class="rf-section">
    <h2>Exemples d'usage complets</h2>
    <p>Combinaisons de composants pour des interfaces complexes et accessibles.</p>
    
    <h3>Interface d'administration compl√®te</h3>
    <div class="rf-example">
        <div class="rf-admin-layout">
            <!-- Header avec navigation et dropdown utilisateur -->
            <header class="rf-navbar rf-navbar-dark" style="background-color: #495057;">
                <div class="rf-container-fluid">
                    <a class="rf-navbar-brand" href="#">Admin Panel</a>
                    
                    <div class="rf-navbar-collapse">
                        <ul class="rf-navbar-nav" style="margin-left: auto;">
                            <li class="rf-nav-item rf-dropdown">
                                <a class="rf-nav-link rf-dropdown-toggle" href="#" role="button">
                                    üë§ Admin User
                                </a>
                                <div class="rf-dropdown-menu rf-dropdown-menu-end">
                                    <a class="rf-dropdown-item" href="#">Mon profil</a>
                                    <a class="rf-dropdown-item" href="#">Param√®tres</a>
                                    <div class="rf-dropdown-divider"></div>
                                    <a class="rf-dropdown-item" href="#">D√©connexion</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </header>
            
            <!-- Alertes syst√®me -->
            <div class="rf-alert rf-alert-warning rf-alert-dismissible" role="alert">
                <strong>Maintenance programm√©e :</strong> Le syst√®me sera indisponible dimanche de 2h √† 4h.
                <button type="button" class="rf-alert-close" aria-label="Fermer cette alerte">
                    <span class="rf-sr-only">Fermer</span>
                </button>
            </div>
            
            <!-- Interface avec onglets -->
            <div class="rf-container-fluid">
                <div class="rf-tabs">
                    <ul class="rf-tab-list" role="tablist">
                        <li class="rf-tab-item">
                            <a class="rf-tab-link rf-active" href="#dashboard-tab" role="tab">
                                üìä Tableau de bord
                            </a>
                        </li>
                        <li class="rf-tab-item">
                            <a class="rf-tab-link" href="#users-tab" role="tab">
                                üë• Gestion utilisateurs
                            </a>
                        </li>
                        <li class="rf-tab-item">
                            <a class="rf-tab-link" href="#settings-tab" role="tab">
                                ‚öôÔ∏è Param√®tres
                            </a>
                        </li>
                    </ul>
                    
                    <div class="rf-tab-content">
                        <!-- Onglet Dashboard -->
                        <div class="rf-tab-pane rf-active rf-show" id="dashboard-tab" role="tabpanel">
                            <div class="rf-row">
                                <div class="rf-col-md-4">
                                    <div class="rf-alert rf-alert-success">
                                        <strong>1,234</strong><br>
                                        Utilisateurs actifs
                                    </div>
                                </div>
                                <div class="rf-col-md-4">
                                    <div class="rf-alert rf-alert-info">
                                        <strong>89%</strong><br>
                                        Taux de satisfaction
                                    </div>
                                </div>
                                <div class="rf-col-md-4">
                                    <div class="rf-alert rf-alert-warning">
                                        <strong>42</strong><br>
                                        Tickets ouverts
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Accord√©on pour les d√©tails -->
                            <div class="rf-accordion">
                                <div class="rf-accordion-item">
                                    <h3 class="rf-accordion-header">
                                        <button class="rf-accordion-button rf-collapsed" type="button">
                                            üìà Statistiques d√©taill√©es
                                        </button>
                                    </h3>
                                    <div class="rf-accordion-collapse">
                                        <div class="rf-accordion-body">
                                            <p>Analyse approfondie des m√©triques de performance...</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="rf-accordion-item">
                                    <h3 class="rf-accordion-header">
                                        <button class="rf-accordion-button rf-collapsed" type="button">
                                            üîî Alertes syst√®me
                                        </button>
                                    </h3>
                                    <div class="rf-accordion-collapse">
                                        <div class="rf-accordion-body">
                                            <p>Surveillance en temps r√©el des services...</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Onglet Utilisateurs -->
                        <div class="rf-tab-pane" id="users-tab" role="tabpanel">
                            <div class="rf-d-flex rf-justify-between rf-align-center" style="margin-bottom: 1rem;">
                                <h3>Gestion des utilisateurs</h3>
                                <button type="button" 
                                        class="rf-btn rf-btn-primary" 
                                        data-rf-modal-trigger="#modal-nouvel-utilisateur">
                                    + Nouvel utilisateur
                                </button>
                            </div>
                            
                            <!-- Filtres avec dropdowns -->
                            <div class="rf-row" style="margin-bottom: 1rem;">
                                <div class="rf-col-md-4">
                                    <div class="rf-input-group">
                                        <input type="search" class="rf-form-control" placeholder="Rechercher...">
                                        <button class="rf-btn rf-btn-outline-secondary" type="button">üîç</button>
                                    </div>
                                </div>
                                <div class="rf-col-md-3">
                                    <div class="rf-dropdown">
                                        <button class="rf-dropdown-toggle rf-btn rf-btn-outline-secondary" type="button" style="width: 100%;">
                                            Filtrer par statut
                                        </button>
                                        <div class="rf-dropdown-menu">
                                            <a class="rf-dropdown-item" href="#">Tous les statuts</a>
                                            <a class="rf-dropdown-item" href="#">Actifs</a>
                                            <a class="rf-dropdown-item" href="#">Inactifs</a>
                                            <a class="rf-dropdown-item" href="#">Suspendus</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="rf-col-md-3">
                                    <div class="rf-dropdown">
                                        <button class="rf-dropdown-toggle rf-btn rf-btn-outline-secondary" type="button" style="width: 100%;">
                                            Actions group√©es
                                        </button>
                                        <div class="rf-dropdown-menu">
                                            <a class="rf-dropdown-item" href="#">Activer s√©lection</a>
                                            <a class="rf-dropdown-item" href="#">D√©sactiver s√©lection</a>
                                            <div class="rf-dropdown-divider"></div>
                                            <a class="rf-dropdown-item" href="#">Supprimer s√©lection</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <p>Interface de gestion des utilisateurs avec tableaux, filtres et actions...</p>
                        </div>
                        
                        <!-- Onglet Param√®tres -->
                        <div class="rf-tab-pane" id="settings-tab" role="tabpanel">
                            <h3>Configuration syst√®me</h3>
                            <form data-rf-validate>
                                <div class="rf-form-group">
                                    <label for="site-name" class="rf-form-label">Nom du site</label>
                                    <input type="text" id="site-name" class="rf-form-control" value="Mon Application">
                                </div>
                                
                                <div class="rf-form-group">
                                    <label for="admin-email" class="rf-form-label">E-mail administrateur</label>
                                    <input type="email" id="admin-email" class="rf-form-control" value="admin@exemple.com">
                                </div>
                                
                                <button type="submit" class="rf-btn rf-btn-primary">Sauvegarder</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modale nouvel utilisateur -->
    <dialog id="modal-nouvel-utilisateur" class="rf-modal rf-fade">
        <div class="rf-modal-dialog rf-modal-lg">
            <div class="rf-modal-content">
                <div class="rf-modal-header">
                    <h4 class="rf-modal-title">Cr√©er un nouvel utilisateur</h4>
                    <button type="button" class="rf-modal-close" data-rf-modal-close>
                        <span class="rf-sr-only">Fermer</span>
                    </button>
                </div>
                <div class="rf-modal-body">
                    <form data-rf-validate>
                        <div class="rf-row">
                            <div class="rf-col-md-6">
                                <div class="rf-form-group">
                                    <label for="admin-prenom" class="rf-form-label">
                                        Pr√©nom <span class="rf-required">obligatoire</span>
                                    </label>
                                    <input type="text" id="admin-prenom" class="rf-form-control" required>
                                </div>
                            </div>
                            <div class="rf-col-md-6">
                                <div class="rf-form-group">
                                    <label for="admin-nom" class="rf-form-label">
                                        Nom <span class="rf-required">obligatoire</span>
                                    </label>
                                    <input type="text" id="admin-nom" class="rf-form-control" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="rf-form-group">
                            <label for="admin-email-new" class="rf-form-label">
                                E-mail <span class="rf-required">obligatoire</span>
                            </label>
                            <input type="email" id="admin-email-new" class="rf-form-control" required>
                        </div>
                        
                        <div class="rf-form-group">
                            <label for="admin-role" class="rf-form-label">R√¥le</label>
                            <select id="admin-role" class="rf-form-select">
                                <option value="user">Utilisateur</option>
                                <option value="moderator">Mod√©rateur</option>
                                <option value="admin">Administrateur</option>
                            </select>
                        </div>
                        
                        <div class="rf-form-check">
                            <input type="checkbox" id="admin-notification" class="rf-form-check-input">
                            <label for="admin-notification" class="rf-form-check-label">
                                Envoyer un e-mail de bienvenue
                            </label>
                        </div>
                    </form>
                </div>
                <div class="rf-modal-footer">
                    <button type="button" class="rf-btn rf-btn-secondary" data-rf-modal-close>
                        Annuler
                    </button>
                    <button type="submit" class="rf-btn rf-btn-primary">
                        Cr√©er l'utilisateur
                    </button>
                </div>
            </div>
        </div>
    </dialog>
    
    <div class="rf-accessibility-note">
        <strong>Interface compl√®te accessible :</strong>
        <ul>
            <li>Skip links automatiques vers les sections principales</li>
            <li>Navigation par onglets avec ARIA complet</li>
            <li>Accord√©ons pour organiser l'information</li>
            <li>Dropdowns pour les actions et filtres</li>
            <li>Modales avec formulaires valid√©s</li>
            <li>Alertes syst√®me avec fermeture</li>
            <li>Focus management entre tous les composants</li>
        </ul>
    </div>
</section>

<!-- Guide de test global -->
<section id="guide-test" class="rf-section">
    <h2>Guide de test d'accessibilit√©</h2>
    <p>Comment tester l'accessibilit√© de cette page et des composants.</p>
    
    <div class="rf-alert rf-alert-info" role="alert">
        <strong>üí° Astuce :</strong> Cette page sert de d√©monstration compl√®te. 
        Utilisez-la pour tester tous les aspects d'accessibilit√© du framework.
    </div>
    
    <h3>Tests clavier essentiels</h3>
    <div class="rf-test-checklist">
        <ul>
            <li><strong>Tab :</strong> Navigue vers l'√©l√©ment suivant</li>
            <li><strong>Shift + Tab :</strong> Navigue vers l'√©l√©ment pr√©c√©dent</li>
            <li><strong>Entr√©e :</strong> Active boutons et liens</li>
            <li><strong>Espace :</strong> Active boutons et checkboxes</li>
            <li><strong>Fl√®ches :</strong> Navigation dans les menus, onglets et accord√©ons</li>
            <li><strong>√âchap :</strong> Ferme modales, dropdowns et alertes</li>
            <li><strong>Home/End :</strong> Premier/dernier √©l√©ment dans les menus</li>
        </ul>
    </div>
    
    <h3>Tests avec lecteur d'√©cran</h3>
    <div class="rf-test-checklist">
        <ul>
            <li>T√©l√©chargez <a href="https://www.nvaccess.org/" target="_blank" rel="noopener">NVDA (gratuit)</a></li>
            <li>Activez le lecteur et naviguez avec Tab</li>
            <li>V√©rifiez que tous les √©l√©ments sont annonc√©s correctement</li>
            <li>Testez les changements d'√©tat (ouverture modales, accord√©ons, onglets)</li>
            <li>V√©rifiez les landmarks (navigation H pour les titres)</li>
            <li>Testez les annonces des alertes et messages d'erreur</li>
        </ul>
    </div>
    
    <h3>Outils automatis√©s recommand√©s</h3>
    <div class="rf-test-checklist">
        <ul>
            <li><strong>axe DevTools :</strong> Extension navigateur gratuite</li>
            <li><strong>WAVE :</strong> √âvaluation en ligne sur wave.webaim.org</li>
            <li><strong>Lighthouse :</strong> Audit int√©gr√© Chrome (onglet Accessibilit√©)</li>
            <li><strong>Validation W3C :</strong> validator.w3.org pour le HTML</li>
            <li><strong>Colour Contrast Analyser :</strong> V√©rification des contrastes</li>
        </ul>
    </div>
    
    <h3>Test interactif</h3>
    <div class="rf-example">
        <button type="button" 
                class="rf-btn rf-btn-success" 
                onclick="RGAAAlert.success('Bravo ! Vous testez l\'accessibilit√© correctement üéâ')">
            Tester les alertes JavaScript
        </button>
        
        <button type="button" 
                class="rf-btn rf-btn-info"
                onclick="console.log('Stats accessibilit√©:', window.RGAA.getAccessibilityStats())">
            Voir les statistiques d'accessibilit√©
        </button>
    </div>
    
    <div class="rf-accessibility-note">
        <strong>Conseil :</strong> Utilisez la combinaison de tests manuels et automatis√©s pour une couverture compl√®te. 
        L'accessibilit√© ne peut pas √™tre enti√®rement test√©e automatiquement.
    </div>
</section>

{% endblock %}